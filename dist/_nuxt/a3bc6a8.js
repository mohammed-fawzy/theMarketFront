(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{315:function(t,e,r){var content=r(325);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(35).default)("eac2e80c",content,!0,{sourceMap:!1})},324:function(t,e,r){"use strict";r(315)},325:function(t,e,r){(e=r(34)(!1)).push([t.i,".span-link{font-weight:700;color:#1c94e6;cursor:pointer}.rejected{color:red}.is_spoiled{text-decoration:line-through;color:red!important}.product-spoiled{font-weight:700;font-size:17px!important;color:red!important}",""]),t.exports=e},339:function(t,e,r){"use strict";r.r(e);r(7),r(20),r(31),r(56);var o=r(18),l={data:function(){return{orders:[],order:null,editUser:this.$store.getters["auth/StateUser"],editPassword:null,editConfirmPassword:null,file:"",imageData:"",showmodel:!1,showSingle:!1,modalErrors:null,pageNum:1,total_pages:null,loading:!1}},mounted:function(){this.loadOrders()},methods:{loadOrders:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("api/carts");case 2:r=e.sent,t.orders=r.data,t.total_pages=r.data.paginate.total_pages;case 5:case"end":return e.stop()}}),e)})))()},showOrder:function(t){this.order=t,this.showSingle=!0,document.getElementById("myOrderTab").classList.remove("active"),this.$nextTick((function(){var t=document.querySelector("#progressbar .active");console.log("currentActiveProgress",t),t&&function(element,t){for(var e=[];element=element.previousElementSibling;)element.classList.add(t);e.push(element)}(t,"active")})),this.$nextTick((function(){this.leadExtrnalJs()}))},handleSubmit:function(){var t=this;if(this.editUser.name&&this.editUser.email){this.errorMessage="",this.loading=!0;var e=new FormData;e.set("name",this.editUser.name),e.set("email",this.editUser.email),e.set("phone",this.editUser.phone),this.editPassword&&this.editConfirmPassword&&e.set("password",this.editUser.password),this.file&&e.set("image",this.file),e.append("_method","PUT"),this.formData=e;this.$axios.$post("api/auth/profile",this.formData,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(1==e.status){var r=t;setTimeout((function(){r.$store.dispatch("auth/updateUser",e.data),r.reset(),r.loading=!1,$("#demo1").modal("hide")}),500)}else t.modalErrors=e.msg,t.loading=!1;console.log(e.data)}))}},handlePgnation:function(t){var e=this;this.pageNum=t,this.$axios.$get("api/carts?page=".concat(this.pageNum)).then((function(t){e.orders=response.data}))},handleFileUpload:function(){var t=this;if(this.file=this.$refs.file.files[0],this.$refs.file&&this.$refs.file.files[0]){var e=new FileReader;e.onload=function(e){t.imageData=e.target.result},e.readAsDataURL(t.$refs.file.files[0])}},leadExtrnalJs:function(){var t=this;if(this.order&&this.order.current_location.lat){var e=function(){null!==marker.getAnimation()?marker.setAnimation(null):marker.setAnimation(google.maps.Animation.BOUNCE)};console.log("self.order.current_location.lat",t.order.current_location.lat),console.log("self.$refs.map",t.$refs.map),function(){var map=new google.maps.Map(t.$refs.map,{zoom:13,center:{lat:parseFloat(t.order.current_location.lat),lng:parseFloat(t.order.current_location.lng)}});new google.maps.Marker({map:map,draggable:!1,animation:google.maps.Animation.DROP,position:{lat:parseFloat(t.order.current_location.lat),lng:parseFloat(t.order.current_location.lng)}}).addListener("click",e);map.setOptions({styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]})}()}},reset:function(){this.editUser=this.$store.getters["auth/StateUser"],this.editPassword=null,this.editConfirmPassword=null,this.file="",this.imageData="",this.confirmPassword=null,this.errorMessage=!1,this.showmodel=!1},temWidth:function(t){return{width:this.order.items[t].current_temp>this.order.items[t].product.sensor.max||this.order.items[t].current_temp<this.order.items[t].product.sensor.min?"1%":Math.round((parseFloat(this.order.items[t].current_temp)-parseFloat(this.order.items[t].product.sensor.min))/parseFloat(this.order.items[t].product.sensor.max-this.order.items[t].product.sensor.min)*100)+"%"}}},computed:{inputStyles:function(){return{"background-image":"url(".concat(this.imageData||this.editUser.image,")")}},user:function(){return this.$store.getters["auth/StateUser"]}}},n=(r(324),r(43)),component=Object(n.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{attrs:{role:"main"}},[r("section",{staticClass:"profile all-section "},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-2"},[r("h3",{staticClass:"titlesection"},[t._v("profile")]),t._v(" "),t._m(0),t._v(" "),r("ul",{staticClass:"nav nav-tabs tabs-left",attrs:{role:"tablist"}},[t._m(1),t._v(" "),r("li",{attrs:{role:"presentation",id:"myOrderTab"},on:{click:function(e){t.showSingle=!1,t.order=null}}},[r("a",{attrs:{href:"#orders","aria-controls":"orders",role:"tab","data-toggle":"tab"}},[t._v("my orders")])])])]),t._v(" "),r("div",{staticClass:"col-md-10"},[r("div",{staticClass:"tab-content bacwhitecontent"},[r("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"profile"}},[r("form",{staticClass:"form form-login proffileform",attrs:{action:"index.html"}},[r("img",{staticClass:"imgprofile",attrs:{src:t.user.image,alt:""}}),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",value:"asmaa ",readonly:"",placeholder:"First name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})])])]),t._v(" "),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],staticClass:"form-control",attrs:{type:"number",value:"025825",readonly:"",placeholder:"phone "},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",readonly:"",placeholder:"email@info.com ",value:"email@info.com "},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"text-box"},[r("button",{staticClass:"buttnedit btn-white ",attrs:{"data-toggle":"modal","data-target":"#demo1"},on:{click:function(e){t.showmodel=!0}}},[t._v(" edit")])])]),t._v(" "),r("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"orders"}},[r("div",{},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSingle,expression:"!showSingle"}],staticClass:"tablecontent"},t._l(t.orders.items,(function(e){return r("table",{key:e.id,staticClass:"table"},[t._m(2,!0),t._v(" "),r("tbody",[r("tr",[r("td",{staticClass:"orderno"},[t._v("\n                                         "+t._s(e.id)+"\n                                     ")]),t._v(" "),r("td",[t._v("online")]),t._v(" "),r("td",{},[t._v("\n                                        "+t._s(e.address.address)+"\n                                     ")]),t._v(" "),r("td",{staticClass:"total"},[t._v(t._s(e.total)+" ")]),t._v(" "),r("td",{},[t._v(t._s(e.status)+" ")]),t._v(" "),r("td",{on:{click:function(r){return t.showOrder(e)}}},[r("span",{staticClass:"span-link"},[t._v(" go to order ")])])])])])})),0),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showSingle,expression:"showSingle"}],staticClass:"single-order"},[r("div",{staticClass:"ordercontent"},[r("div",{staticClass:"row d-flex justify-content-center"},[r("div",{staticClass:"col-12"},[t.order?r("ul",{staticClass:"text-center",attrs:{id:"progressbar"}},[r("li",{staticClass:"step0",class:{active:"pending"==t.order.status}},[r("span",{staticClass:"spanabs"},[t._v("1")]),t._v(" "),r("span",{staticClass:"spandetail"},[t._v("Pending")])]),t._v(" "),"rejected"==t.order.status?r("li",{staticClass:"step0",class:{rejected:"rejected"==t.order.status,active:"rejected"==t.order.status}},[r("span",{staticClass:"spanabs"},[t._v("1")]),t._v(" "),r("span",{staticClass:"spandetail"},[t._v("Rejected")])]):r("li",{staticClass:"step0",class:{active:"accepted"==t.order.status}},[r("span",{staticClass:"spanabs"},[t._v("2")]),t._v(" "),r("span",{staticClass:"spandetail"},[t._v("Accepted")])]),t._v(" "),r("li",{staticClass:"step0",class:{active:"wait_for_delivery"==t.order.status}},[r("span",{staticClass:"spanabs"},[t._v("3")]),t._v(" "),r("span",{staticClass:"spandetail"},[t._v("Wait")])]),t._v(" "),r("li",{staticClass:" step0",class:{active:"on_deliver"==t.order.status}},[r("span",{staticClass:"spanabs"},[t._v("4")]),t._v(" "),r("span",{staticClass:"spandetail"},[t._v("Working on it")])]),t._v(" "),r("li",{staticClass:"step0",class:{active:"finished"==t.order.status}},[r("span",{staticClass:"spanabs"},[t._v("5")]),t._v(" "),r("span",{staticClass:"spandetail"},[t._v("Finished")])])]):t._e()])]),t._v(" "),t.order?r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-2"},[r("div",[r("span",{staticClass:"titledetail"},[t._v("order no : ")]),t._v(" "),r("span",{staticClass:"value"},[t._v(t._s(t.order.id))])])]),t._v(" "),r("div",{staticClass:"col-md-4"},[r("span",{staticClass:"titledetail"},[t._v("order date : ")]),t._v(" "),r("span",{staticClass:"value"},[t._v(t._s(t.order.created_at))])]),t._v(" "),r("div",{staticClass:"col-md-3"},[r("span",{staticClass:"titledetail"},[t._v("order to : ")]),t._v(" "),r("span",{staticClass:"value"},[t._v(t._s(t.order.address.address))])]),t._v(" "),r("div",{staticClass:"col-md-3"},[r("span",{staticClass:"titledetail"},[t._v("shipment weight : ")]),t._v(" "),r("span",{staticClass:"value"},[t._v(t._s(t.order.weight))])])]):t._e()]),t._v(" "),this.order?[null!=this.order.current_location.lat?r("div",{ref:"map",attrs:{id:"map"}}):t._e()]:t._e(),t._v(" "),t.order?r("div",{staticClass:"tablecontent"},[r("table",{staticClass:"table tableborder"},[t._m(3),t._v(" "),r("tbody",t._l(t.order.items,(function(e,o){return r("tr",{key:e.id},[r("td",{staticClass:"imgdetails image"},[r("a",{staticClass:"media-link",attrs:{href:"/shop/'"+e.product.id}},[r("span",{staticClass:"block"},[r("span",{staticClass:"mr-2",class:{is_spoiled:e.is_spoiled}},[t._v(" "+t._s(e.product.name)+" ")]),t._v(" "),e.is_spoiled?r("span",{staticClass:"product-spoiled"},[t._v(" unfortunately product spoiled")]):t._e()]),t._v(" "),r("img",{attrs:{src:e.product.image,alt:""}})])]),t._v(" "),r("td",{staticClass:"stutussensor"},[r("div",{},[r("span",{staticClass:"stutussensorspan"},[t._v("\n                                                 "+t._s(e.product.info)+" ")])]),t._v(" "),e.has_sensor?r("div",[r("span",{staticClass:"bold mt5 block"},[t._v("Current Temperature :")]),t._v(" "),e.current_temp?r("span",{staticClass:"block bold red mb7"},[t._v(t._s(e.current_temp)+" c")]):t._e(),t._v(" "),r("div",{staticClass:"editheightprogress"},[r("div",{staticClass:"progress",staticStyle:{display:"block"}},[r("div",{staticClass:"progress-bar",style:t.temWidth(o),attrs:{role:"progressbar","aria-valuenow":"10","aria-valuemin":"10","aria-valuemax":"10"}}),t._v(" "),r("div",{staticClass:"clear"}),t._v(" "),t._m(4,!0)])])]):r("div",[t._v("No sensor")])]),t._v(" "),r("td",[t._v(t._s(e.price)+" جنيه")]),t._v(" "),r("td",{},[t._v("\n                                           location\n                                        ")]),t._v(" "),r("td",{staticClass:"total"},[t._v(t._s(e.total))])])})),0)])]):t._e()],2)]),t._v(" "),t.total_pages>1?r("nav",{ref:"reference",staticClass:"mt-1"},[r("paginate",{attrs:{"page-count":t.total_pages,"margin-pages":2,"click-handler":t.handlePgnation,"prev-text":"Prev","next-text":"Next","container-class":"pagination justify-content-center","active-class":"active","page-class":"page-item","page-link-class":"page-link","prev-class":"page-item","prev-link-class":"page-link","next-link-class":"page-link","next-class":"page-item"}})],1):t._e()])])])])])]),t._v(" "),t.showmodel?r("div",{staticClass:"modal fade",attrs:{id:"demo1",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog opacity-animate4"},[r("div",{staticClass:"modal-content aligne-right"},[r("div",{staticClass:"modal-body aligne-right"},[r("ul",{staticClass:"list-unstyled",attrs:{id:"error"}}),t._v(" "),r("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit()}}},[r("div",{staticClass:" profile-content"},[r("div",{staticClass:"profile1 sec-profile profile-edit text-center profile-content1"},[r("div",{staticClass:"form-group"},[r("div",{staticClass:"profile-pic text-center"},[r("div",{staticClass:"images-upload-block photo "},[r("label",{staticClass:"upload-img photo",style:t.inputStyles},[r("input",{ref:"file",staticClass:"image-uploader form-control",attrs:{type:"file",accept:"image/*",id:"file-input",name:"file-input"},on:{change:t.handleFileUpload}}),t._v(" "),r("i",{staticClass:"fa fa-plus"})]),t._v(" "),r("small",{staticClass:"form-text text-danger",attrs:{id:"avatar_error"}})])])])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.editUser.name,expression:"editUser.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First name"},domProps:{value:t.editUser.name},on:{input:function(e){e.target.composing||t.$set(t.editUser,"name",e.target.value)}}})])])]),t._v(" "),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.editUser.phone,expression:"editUser.phone"}],staticClass:"form-control",attrs:{type:"number",placeholder:"phone "},domProps:{value:t.editUser.phone},on:{input:function(e){e.target.composing||t.$set(t.editUser,"phone",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.editUser.email,expression:"editUser.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"email@info.com "},domProps:{value:t.editUser.email},on:{input:function(e){e.target.composing||t.$set(t.editUser,"email",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group eye-relative"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.editPassword,expression:"editPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:t.editPassword},on:{input:function(e){e.target.composing||(t.editPassword=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group eye-relative"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.editConfirmPassword,expression:"editConfirmPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"new password"},domProps:{value:t.editConfirmPassword},on:{input:function(e){e.target.composing||(t.editConfirmPassword=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"text-box"},[r("button",{staticClass:"buttnedit btn-white ",attrs:{type:"submit"}},[t._v(" submit "),t.loading?r("span",[t._v("Loading...")]):t._e()])])]),t._v(" "),t.modalErrors?r("div",{staticClass:"alert alert-danger",attrs:{type:"danger"}},[t._v("\n                  "+t._s(t.modalErrors)+"\n                ")]):t._e()])])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"breadcumbs"},[e("p",[e("a",{attrs:{href:"index"}},[this._v("Home")]),e("i",{staticClass:"fas fa-greater-than"}),this._v(" "),e("a",{staticClass:"activecumbs",attrs:{href:"profile"}},[this._v("profile")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"active",attrs:{role:"presentation"}},[e("a",{attrs:{href:"#profile","aria-controls":"profile",role:"tab","data-toggle":"tab"}},[this._v("user profile ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("orders no")]),t._v(" "),r("th",[t._v(" payment")]),t._v(" "),r("th",[t._v("deliver_to")]),t._v(" "),r("th",[t._v("total")]),t._v(" "),r("th",[t._v("status")]),t._v(" "),r("th",[t._v("show")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("PRODUCT_Info")]),t._v(" "),r("th",[t._v("sensors_status")]),t._v(" "),r("th",[t._v("PRICE")]),t._v(" "),r("th",[t._v("Q")]),t._v(" "),r("th",[t._v("total")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contentspan"},[e("div"),this._v(" "),e("div"),this._v(" "),e("div"),this._v(" "),e("div"),this._v(" "),e("div")])}],!1,null,null,null);e.default=component.exports}}]);